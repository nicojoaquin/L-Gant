(this.webpackJsonptienda=this.webpackJsonptienda||[]).push([[0],{229:function(e,t,c){},230:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c(81),s=c.n(a),r=c(15),i=c(13),l=c(29),j=c(21),o=c(10),d=c(0),b=Object(n.createContext)(),u=function(e){var t=e.children,c=JSON.parse(sessionStorage.getItem("cart")),a=Object(n.useState)(c||[]),s=Object(o.a)(a,2),r=s[0],i=s[1],u=Object(n.useState)(""),O=Object(o.a)(u,2),h=O[0],m=O[1];Object(n.useEffect)((function(){sessionStorage.setItem("cart",JSON.stringify(r))}),[r]);var x=function(e,t){var c=r.find((function(t){return t.id===e.id}));i(c?r.map((function(c){return c.id===e.id?Object(j.a)(Object(j.a)({},c),{},{quantity:c.quantity+t,subTotal:c.subTotal+c.price*t}):c})):[].concat(Object(l.a)(r),[Object(j.a)(Object(j.a)({},e),{},{quantity:t,subTotal:e.price*t})]))},p=function(e){i(r.filter((function(t){return t.id!==e.id})))},f=r.reduce((function(e,t){return e+t.subTotal}),0),v=r.reduce((function(e,t){return e+t.quantity}),0);return Object(d.jsx)(b.Provider,{value:{cart:r,handleAddMore:function(e){x(e,1)},handleAdd:x,handleSub:function(e){1===r.find((function(t){return t.id===e.id})).quantity?p(e):i(r.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity-1,subTotal:t.subTotal-t.price}):t})))},handleRemove:p,handleClear:function(){i([])},totalCart:f,totalItems:v,orderId:h,setOrderId:m},children:t})},O=[{id:"all",name:"Todos los productos"},{id:"pantalones",name:"Pantalones"},{id:"camisas",name:"Camisas"},{id:"sacos",name:"Sacos"},{id:"trajes",name:"Trajes"},{id:"zapatos",name:"Zapatos"},{id:"accesorios",name:"Accesorios"}],h=function(e){var t=e.closeAll,c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(i.g)();return Object(d.jsx)("form",{className:"finder",onSubmit:function(e){e.preventDefault(),t(),r(""),l.push("/search?q=".concat(s))},children:Object(d.jsx)("input",{onChange:function(e){var t=e.target;r(t.value)},type:"text",placeholder:" Buscar...",value:s})})},m=function(e){var t=e.nav,c=e.setNav,n=e.catOpen,a=e.setCatOpen,s=e.closeAll;return Object(d.jsxs)("nav",{className:t?"navOpen":"nav",children:[Object(d.jsx)(h,{closeAll:s}),Object(d.jsx)(r.b,{onClick:function(){return s()},to:"/",className:"links",children:"Inicio"}),Object(d.jsxs)("div",{style:{cursor:"pointer"},className:"links store",onClick:function(){return a(!n)},children:[Object(d.jsxs)("p",{children:["Tienda ",Object(d.jsx)("span",{className:"arrow ".concat(n&&"arrowDown"),children:"\u27a8"})]}),Object(d.jsx)("div",{className:n?"category-nav-open":"category-nav",children:O.map((function(e){return Object(d.jsx)(r.b,{to:"/tienda/category/".concat(e.id),className:"category__link-nav",onClick:function(){return c(!1)},children:e.name},e.id)}))})]})]})},x=c(49),p=c(50),f=function(e){var t=e.closeAll,c=Object(n.useContext)(b).totalItems;return Object(d.jsx)("div",{className:"cart-widget",children:Object(d.jsxs)(r.b,{to:"/cart",style:{color:"black"},onClick:t,children:[Object(d.jsx)(x.a,{icon:p.a,className:"cart-icon"}),c>0&&Object(d.jsxs)("span",{children:[" ",c]})]})})},v=function(e){var t=e.nav,c=e.handleNav;return Object(d.jsxs)("div",{className:"bars",onClick:c,children:[Object(d.jsx)("span",{className:"bar ".concat(t&&"barTop")}),Object(d.jsx)("span",{className:"bar ".concat(t&&"barMid")}),Object(d.jsx)("span",{className:"bar ".concat(t&&"barBottom")})]})},g=c.p+"static/media/logo.c6f89758.ico",N=function(e){var t=e.title,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),b=j[0],u=j[1],O=function(){i(!1),u(!1)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("header",{className:"header",children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)(r.b,{to:"/",children:Object(d.jsxs)("h1",{className:"title__h1",onClick:function(){return O()},children:[" ",t," "]})}),Object(d.jsx)("img",{src:g,alt:"logo"})]}),Object(d.jsxs)("div",{className:"header__assets",children:[Object(d.jsx)(m,{nav:s,setNav:i,catOpen:b,setCatOpen:u,closeAll:O}),Object(d.jsx)(f,{closeAll:O}),Object(d.jsx)(v,{nav:s,handleNav:function(){i(!s),u(!1)}})]})]})})},y=c(83),C=c.n(y),k=c.p+"static/media/slider1.2ef86920.jpg",_=c.p+"static/media/slider2.8d13048a.jpg",S=function(){return Object(d.jsxs)("div",{className:"slider",children:[Object(d.jsx)("h1",{className:"sliderTitle",children:"Destacados"}),Object(d.jsxs)(C.a,{className:"sldierContent",children:[Object(d.jsx)("div",{className:"sldierContent-Item",children:Object(d.jsx)("img",{className:"sliderImg",src:k,alt:""})}),Object(d.jsx)("div",{className:"sldierContent-Item",children:Object(d.jsx)("img",{className:"sliderImg",src:_,alt:""})})]})]})},I=function(){return Object(d.jsx)("article",{children:Object(d.jsx)(S,{})})},T=c(18),w=function(){return Object(d.jsx)(T.a,{children:Object(d.jsx)("main",{children:Object(d.jsx)(I,{})})})},A=c(1),q=c.n(A),F=c(5),E=c(28),L=c(85),B=c(62);Object(L.a)({apiKey:"AIzaSyAE_XEMTqC5teNYCOBge1TSfAG1YgA8gVM",authDomain:"l-gant.firebaseapp.com",projectId:"l-gant",storageBucket:"l-gant.appspot.com",messagingSenderId:"329276538841",appId:"1:329276538841:web:7eef0c312c6accb25fa3c8"});var R=Object(B.a)(),D=function(){var e=Object(n.useRef)(!0),t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!0),i=Object(o.a)(r,2),l=i[0],d=i[1];Object(n.useEffect)((function(){return b(),function(){e.current=!1}}),[]);var b=function(){var t=Object(F.a)(q.a.mark((function t(){var c,n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.c)(Object(E.b)(R,"products"));case 3:c=t.sent,n=c.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})),e.current&&s(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn(t.t0);case 11:return t.prev=11,d(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return{data:a,loader:l}},M=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"category__container",children:[Object(d.jsx)("h3",{className:"category-title",children:"Filtros"}),O.map((function(e){return Object(d.jsx)(r.c,{exact:!0,to:"/tienda/category/".concat(e.id),className:"category__link",activeClassName:"active",children:e.name},e.id)}))]})})},$=function(e){var t=e.product;return Object(d.jsx)(r.b,{to:"/tienda/".concat(t.id),children:Object(d.jsx)(T.a,{children:Object(d.jsx)("div",{className:"item",style:{backgroundImage:"url(".concat("/L-Gant"+t.img,")")},children:Object(d.jsxs)("div",{className:"item__info",children:[Object(d.jsx)("h3",{className:"item__name",children:t.name}),Object(d.jsxs)("h4",{className:"item__price",children:["$",t.price]})]})})})})},G=function(e){var t=e.products;return Object(d.jsx)("div",{className:"item-list",children:t.map((function(e){return Object(d.jsx)($,{product:e},e.id)}))})},V=function(){var e=Object(i.i)().catId,t=D(),c=t.data,a=t.loader,s=Object(n.useState)([]),r=Object(o.a)(s,2),l=r[0],j=r[1];return Object(n.useEffect)((function(){j("all"===e?c:c.filter((function(t){return t.category===e})))}),[c,e]),Object(d.jsx)("div",{className:"container",children:a?Object(d.jsx)("svg",{className:"cssload-spin-box loader",style:{marginTop:400}}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"products-title",children:"Productos"}),Object(d.jsx)("br",{}),Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{className:"item__container",children:[Object(d.jsx)(M,{}),0===l.length?Object(d.jsx)("h2",{children:"No se encuentra la categor\xeda"}):Object(d.jsx)(G,{products:l})]})]})})},J=function(){return Object(d.jsx)(T.a,{children:Object(d.jsx)("section",{className:"main",children:Object(d.jsx)(V,{})})})},z=c(86),P=c.n(z),Y=c.p+"static/media/buySpinner.06673212.gif",H=function(e){var t=e.setBuy,c=e.product,a=Object(n.useContext)(b).handleAdd,s=Object(n.useState)(1),r=Object(o.a)(s,2),i=r[0],l=r[1],j=Object(n.useState)(!1),u=Object(o.a)(j,2),O=u[0],h=u[1],m=function(){h(!0),setTimeout((function(){h(!1),t(!0),P.a.fire({title:"Has agregado el producto al carrito!",background:"#fff",padding:"2rem",position:"center",showConfirmButton:!1,timer:800,customClass:{title:"alert-title"}}),a(c,i)}),800)};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"item-quantity",children:[Object(d.jsx)("button",{className:"cart-button",onClick:function(){l(i+1)},children:"+"}),Object(d.jsxs)("span",{style:{marginRight:10},children:[i," "]}),Object(d.jsx)("button",{className:"cart-button",onClick:function(){i>1&&l(i-1)},children:"-"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"add__cart",children:Object(d.jsx)("button",{onClick:function(){return m()},className:"add__cart--button",children:O?Object(d.jsx)("img",{src:Y,alt:"loader"}):"Agregar al carrito"})})]})},K=function(e){var t=e.product,c=Object(i.g)(),a=Object(n.useState)(!1),s=Object(o.a)(a,2),r=s[0],l=s[1],j=(t.price/12).toFixed(2);return Object(d.jsxs)(T.a,{children:[Object(d.jsx)("div",{className:"item-img",onClick:function(){return console.log(t)},style:{backgroundImage:"url(".concat("/L-Gant"+t.img,")")}}),Object(d.jsxs)("div",{className:"detail-info",children:[Object(d.jsxs)("div",{className:"price-name",children:[Object(d.jsx)("h2",{children:t.name}),Object(d.jsxs)("div",{className:"item-price",children:[Object(d.jsxs)("h3",{children:["$",t.price]}),Object(d.jsxs)("span",{children:["12 cuotas sin interes de $",j,"!"]})]})]}),Object(d.jsxs)("div",{className:"item-desc",children:[Object(d.jsxs)("p",{children:[t.desc,"."]}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:t.comp})]}),Object(d.jsx)("hr",{}),!r&&Object(d.jsxs)("div",{className:"item-talles",children:[Object(d.jsx)("h3",{children:"Selecciona un talle"}),Object(d.jsx)("br",{}),Object(d.jsxs)("select",{className:"select",name:"talle",required:!0,children:[Object(d.jsx)("option",{value:"s",children:"S"}),Object(d.jsx)("option",{value:"m",children:"M"}),Object(d.jsx)("option",{value:"l",children:"L"})]})]}),Object(d.jsxs)("div",{style:{display:"flex",width:1},children:[r?Object(d.jsx)("div",{className:"add__cart",children:Object(d.jsx)("button",{onClick:function(){c.push("/cart")},className:"add__cart--button continue-button",children:"Continuar con la compra"})}):Object(d.jsx)(H,{setBuy:l,product:t}),Object(d.jsx)("div",{style:{position:"relative"},children:Object(d.jsx)("button",{className:"return-button",onClick:c.goBack,children:"Volver"})})]})]})]})},X=function(){var e=Object(i.i)().productId,t=Object(n.useRef)(!0),c=D(),a=c.data,s=c.loader,r=Object(n.useState)({}),l=Object(o.a)(r,2),j=l[0],b=l[1];return Object(n.useEffect)((function(){return function(){t.current=!1}}),[]),Object(n.useEffect)((function(){t.current&&b(a.find((function(t){return t.id===e})))}),[a,e]),Object(d.jsx)("div",{className:"detail-container",children:s?Object(d.jsx)("svg",{className:"cssload-spin-box loader",style:{marginTop:400}}):j?Object(d.jsx)(K,{product:j}):Object(d.jsx)("h2",{children:"No se encuentra el producto"})})},Z=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.totalCart,a=e.handleAddMore,s=e.handleSub,l=e.handleRemove,j=e.handleClear,o=Object(i.g)();return Object(d.jsx)(T.a,{children:Object(d.jsxs)("section",{className:"cart__container",children:[Object(d.jsx)("h2",{children:"Carrito de compras"}),Object(d.jsx)("table",{className:"cart-table",children:Object(d.jsx)("tbody",{children:t.map((function(e){return Object(d.jsxs)("tr",{className:"cart__item",children:[Object(d.jsx)("td",{children:Object(d.jsx)("img",{className:"cart-img",src:"/L-Gant"+e.img,alt:e.name})}),Object(d.jsx)("td",{children:Object(d.jsx)("h3",{children:e.name})}),Object(d.jsx)("td",{children:Object(d.jsxs)("h3",{children:["$",e.price]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"item-quantity",children:[Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"cart-button",onClick:function(){return a(e)},children:"+"})}),Object(d.jsx)("span",{style:{marginRight:10},children:e.quantity}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"cart-button",onClick:function(){return s(e)},children:"-"})})]})}),Object(d.jsx)("td",{children:Object(d.jsxs)("h4",{children:["Subtotal: $",e.subTotal]})}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{onClick:function(){return l(e)},children:Object(d.jsx)(x.a,{className:"delete-button",icon:p.b,size:"2x"})})})]},e.id)}))})}),Object(d.jsx)("br",{}),c?Object(d.jsxs)("div",{className:"total",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("h1",{children:["Total: $",c]})}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"add__cart",children:[Object(d.jsx)("button",{className:"final-buttons clear-button",onClick:function(){return j()},children:"Vaciar carrito"}),Object(d.jsx)("button",{className:"final-buttons checkout-button",onClick:function(){return o.push("/checkout")},children:"Ir al checkout"})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"El carrito esta vacio..."}),Object(d.jsx)(r.b,{to:"/tienda/category/all",children:Object(d.jsx)("h2",{style:{color:"#044371",textDecoration:"underline"},children:"Agrega algun producto en la tienda!"})})]})]})})},Q=c(87),U=c.n(Q),W=function(){var e=Object(i.h)(),t=function(e){var t=D().data;return""===e?[]:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}(U.a.parse(e.search).q),c=D().loader;return Object(d.jsx)(T.a,{children:Object(d.jsx)("section",{className:"container",children:c?Object(d.jsx)("svg",{className:"cssload-spin-box loader",style:{marginTop:400}}):0===t.length?Object(d.jsx)("h2",{style:{marginTop:100},children:"No hay resultados"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{style:{marginTop:100},children:"Resultados"}),Object(d.jsx)("hr",{})]}),Object(d.jsx)("div",{className:"item-list",style:{marginTop:120},children:t.map((function(e){return Object(d.jsx)($,{product:e},e.id)}))})]})})})},ee=function(e){var t=e.cart,c=e.handleCheckout,n=e.formValues,a=e.handleInputChange,s=e.buyLoader;return Object(d.jsxs)(d.Fragment,{children:[t.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:e.name})},e.id)})),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"checkout-form",onSubmit:c,children:[Object(d.jsx)("legend",{children:"Ingrese sus datos"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"name",children:"Nombre"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Ingrese su nombre...",value:n.name,onChange:a})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email1",children:"Email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"email",name:"email1",placeholder:"email@ejemplo.com",value:n.email1,onChange:a})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email2",children:"Ingrese nuevamente su email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"email",name:"email2",placeholder:"email@ejemplo.com",value:n.email2,onChange:a})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"phone",children:"Tel\xe9fono"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",name:"phone",value:n.phone,onChange:a})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"checkout__button--container",children:Object(d.jsx)("button",{type:"submit",className:"checkout-button buy-button",children:s?Object(d.jsx)("img",{src:Y,alt:"loader"}):"Comprar"})})]})})]})},te=c(9),ce=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.totalCart,a=e.handleClear,s=Object(n.useContext)(b),r=s.orderId,l=s.setOrderId,u=Object(n.useState)(!1),O=Object(o.a)(u,2),h=O[0],m=O[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),c=Object(o.a)(t,2),a=c[0],s=c[1];return[a,function(e){var t=e.target;s(Object(j.a)(Object(j.a)({},a),{},Object(te.a)({},t.name,t.value)))},function(){s(e)}]}({name:"",email1:"",email2:"",phone:""}),p=Object(o.a)(x,3),f=p[0],v=p[1],g=p[2],N=f.name,y=f.email1,C=f.phone,k=function(){var e=Object(F.a)(q.a.mark((function e(n){var s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),m(!0),e.prev=2,e.next=5,Object(E.a)(Object(E.b)(R,"orders"),{buyer:{name:N,email:y,phone:C},items:t,total:c});case 5:s=e.sent,l(s.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn(e.t0);case 12:return e.prev=12,m(!1),console.log(r),g(),a(),e.finish(12);case 18:case"end":return e.stop()}}),e,null,[[2,9,12,18]])})));return function(t){return e.apply(this,arguments)}}();return 0!==t.length?Object(d.jsx)(T.a,{children:Object(d.jsx)("section",{className:"checkout-container",children:Object(d.jsx)(ee,{cart:t,handleCheckout:k,formValues:f,handleInputChange:v,buyLoader:h})})}):Object(d.jsx)(i.a,{to:"/"})},ne=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(u,{children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)(N,{title:"L-Gant"}),Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{exact:!0,path:"/",component:w}),Object(d.jsx)(i.b,{exact:!0,path:"/tienda/category/:catId",component:J}),Object(d.jsx)(i.b,{exact:!0,path:"/tienda/:productId",component:X}),Object(d.jsx)(i.b,{exact:!0,path:"/cart",component:Z}),Object(d.jsx)(i.b,{exact:!0,path:"/checkout",component:ce}),Object(d.jsx)(i.b,{exact:!0,path:"/search",component:W}),Object(d.jsx)(i.a,{to:"/"})]})]})})})};c(229);s.a.render(Object(d.jsx)(ne,{}),document.querySelector("#root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.3466f746.chunk.js.map